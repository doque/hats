@(hatElapsedTime:List[(String, Long)], usrIDs: List[Long], userWithHats:List[(String, List[Long])],events:List[Event],cardDetails: List[(String, List[(String, Long)])])
@import models._

@main("Dashboard", null) {
	<div class="row">
		<h1>Dashboard <small>Statistics Overview</small></h1>
		<ol class="breadcrumb">
			<li class="active"><i class="fa fa-dashboard"></i>Dashboard @cardDetails 
			
				 </li>
		</ol>
	</div><!-- /.row -->
	<div class="row">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title"><i class="fa fa-long-arrow-right"></i> Bucket Thing(Not Ready Yet)</h3>
			</div>
			<div class="panel-body">
				<div id="cards-user-bucket"> </div>
			</div>
		</div>	
	</div><!-- /.row -->
	<div class="row">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title"><i class="fa fa-long-arrow-right"></i> Card Status for Each User</h3>
			</div>
			<div class="panel-body">
				<div id="cards-user-current-session" style="width:600px;height:300px;"></div>
			</div>
		</div>
	</div>
	<div class="row"><!-- /.row -->	
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title"><i class="fa fa-long-arrow-right"></i> Elapsed Time Per Hat(Current Session)</h3>
			</div>
			<div class="panel-body">
				<div id="elapsed-time-chart-donut" style="background-color:#F0EDDA;" ></div>
			</div>
		</div>
	</div><!-- /.row -->
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
	<script type="text/javascript" src="//cdn.jsdelivr.net/morris.js/0.4.1/morris.min.js"></script>
	<script src="http://code.highcharts.com/highcharts.js"></script>
	<script src="http://code.highcharts.com/modules/exporting.js"></script>
	<script>
	var hatArray = [];
	var hatColor = [];
	//var len = @hatElapsedTime.length;
	@for(hTime <- hatElapsedTime){
		var obj = {
        value: @hTime._2,
        label: '@hTime._1',
    }
    hatArray.push(obj);
    hatColor.push("@hTime._1.toLowerCase")
	}
	Morris.Donut({
		element: 'elapsed-time-chart-donut',
			data: hatArray,
			colors: hatColor
	});	
	</script>
	<script id="source">
		$(function () {
			var cardArray1 = [];
			var resultArray1 =[];
			@for( (key, values) <- cardDetails) {
				var k = 0;
		 		 @values.map { value =>
		    		cardArray1.push([k, @value._2])
		    		k += 1
		  			}
		  			resultArray1.push(cardArray1);
		  			cardArray1 =[];
				}
		    var stack = 0, bars = true, lines = false, steps = false;
		    
		    function plotWithOptions() {
		        $.plot($("#cards-user-current-session"), resultArray1, {
		            series: {
		                stack: stack,
		                lines: { show: lines, fill: true, steps: steps },
		                bars: { show: bars, barWidth: 0.6 }
		            }
		        });
		    }
		
		    plotWithOptions();
		});
</script>

}
